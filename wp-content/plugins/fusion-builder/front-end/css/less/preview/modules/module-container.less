@keyframes highlightBackground {
	0% {
		background-color: rgba(60, 185, 240, 0);
	}

	50% {
		background-color: rgba(60, 185, 240, 0.9);
	}

	100% {
		background-color: rgba(60, 185, 240, 0);
	}
}

.fusion-builder-live {

	&.fusion-builder-preview-mode {
		.fusion-container-spacing {
			display: none !important;
		}

		.fusion-builder-container {
			&:after {
				display: none;
			}
		}
		.fusion-builder-container-status-draft {
			display: none !important;
		}
	}

	.woocommerce-tabs {
		overflow: visible;
	}

	.fusion-outline-helper {
		display: none;
	}

	.fusion-builder-container.scrolling-helper {
		&:hover {
			.fusion-builder-module-controls-container-wrapper {
				.fusion-builder-module-controls-container {
					.fusion-builder-container-controls,
					.fusion-builder-controls:hover .fusion-builder-container-settings {
						background-color: rgba(255, 116, 61, 1);
					}
				}
			}
		}
		&:after {
			box-shadow: 0 0 0 3px rgba(255, 116, 61, 0.4) !important;
		}
	}

	&:not(.fusion-builder-preview-mode) {
		.fusion-active-highlight {
			background-color: rgba(60, 185, 240, 0);
			animation-name: highlightBackground;
			animation-duration: 2s;
			animation-iteration-count: 1;
		}

		.fusion-fullwidth {
			&.fusion-scrolling-section-edit {
				.fusion-outline-helper {
					border-top-color: rgba(255, 116, 61, 0.4);
					border-bottom-color: rgba(255, 116, 61, 0.4);
				}

				.fusion-panel-shortcut {
					position: absolute;
					top: 50%;
					transform: translateY(-50%);
					opacity: 0;
					pointer-events: none;
					border-radius: 4px;
					z-index: 99999;
					width: 33px;
					height: 33px;
					line-height: 33px;
					font-size: 14px;
					color: #fff;
					display: block;
					cursor: pointer;
					background-color: #2a3035;
					text-align: center;
					transition: color 0.1s ease;
					box-shadow: 0 4px 12px rgba(0, 0, 0, 0.18);

					> span {
						display: block;
						line-height: 33px;
					}
				}

				.fusion-scroll-section-nav {
					position: absolute;

					a {
						pointer-events: none;
					}
				}

				&:hover {
					.fusion-scroll-section-nav {
						&:hover {
							.fusion-panel-shortcut {
								opacity: 1;
								pointer-events: auto;
							}
						}

						display: block;
						opacity: 1;
					}
				}
			}

			.hundred-percent-height,
			&.hundred-percent-height {
				height: auto !important;
				overflow: visible !important;
			}

			&.hundred-percent-height {
				z-index: auto;
			}

			.fusion-outline-helper {
				opacity: 0;
				position: absolute;
				display: block;
				border-top: 3px dashed #198fd9;
				border-bottom: 3px dashed #198fd9;
				width: 100%;
				top: 0;
				left: 0;
				pointer-events: none;

				&.fusion-centered-content {
					top: 50%;
					transform: translateY(-50%);
				}
			}

			&:hover {
				.fusion-outline-helper {
					opacity: 1;
				}
			}
		}

		.fusion-builder-container {
			&:hover {
				z-index: 20;
			}
		}
	}

	.fusion-fullwidth-center-content {
		> .fusion-builder-container-content {
			width: 100%;
			margin: 0 auto;
		}
	}

	.fusion-builder-live-editor .fusion-builder-container {
		cursor: grab;

		.fusion-image-carousel {
			.fusion-carousel {
				.fusion-carousel-holder {
					.fusion-builder-module-controls-container {
						a {
							.fusion-element-tooltip {
								top: auto;
								bottom: 100%;

								&:before {
									border-top-color: #1d2226;
									border-bottom-color: transparent;
									bottom: -10px;
									top: auto;
									margin-top: 0;
								}
							}

							&:hover {
								.fusion-element-tooltip {
									margin-top: 0;
									margin-bottom: 10px;
								}
							}
						}
					}
				}
			}
		}
	}

	.fusion-builder-container {

		.fusion-builder-container-add,
		.fusion-builder-insert-column {
			display: none;

			.open {
				display: none;
			}

			.closed {
				display: inline-block;
			}

			&:hover,
			&:active {
				.open {
					display: inline-block;
				}

				.closed {
					display: none;
				}
			}
		}

		&.fusion-builder-element-edited {
			position: relative;

			.fusion-container-spacing {
				opacity: 1;
				visibility: visible;
			}

			&:not(.fusion-builder-absolute-container-wrapper),
			&.fusion-builder-absolute-container-wrapper > .fusion-fullwidth {

				&:after {
					box-shadow: 0 0 0 3px rgba(25, 143, 217, 1);
					border-radius: 4px;
					position: absolute;
					top: 0;
					bottom: 0;
					left: 0;
					right: 0;
					pointer-events: none;
					content: "";
					z-index: 9;
				}
			}
		}

		&.fusion-builder-navigator-outlined {
			> .fusion-fullwidth {
				&:after {
					.awb-builder-nav--outline-after-mixin();
				}
			}
		}

		.fusion-container-spacing {
			z-index: 11;
			opacity: 0;
			visibility: hidden;
			position: absolute;
			pointer-events: auto;
			background: rgba(25, 143, 217, 0.15);

			.fusion-spacing-tooltip {
				opacity: 0;
				visibility: hidden;
			}

			&.active {
				.fusion-spacing-tooltip {
					opacity: 1;
					visibility: visible;
				}
			}

			.ui-resizable-handle {
				position: absolute;
				background: #198fd9;
				text-align: center;
				z-index: 9999;
				font-size: 11px;
				line-height: 1;

				&.ui-resizable-n,
				&.ui-resizable-s {
					left: 50%;
					cursor: ns-resize;
					padding: 4px 7px;
					transition: transform 0.2s ease;
				}

				&.ui-resizable-s {
					transform: translateX(-50%) translateY(100%);
					bottom: 0;
				}

				&.ui-resizable-n {
					transform: translateX(-50%) translateY(-100%);
					top: 0;
				}

				&.ui-resizable-e,
				&.ui-resizable-w {
					top: 50%;
					cursor: ew-resize;
					padding: 7px 4px;

					&:after {
						transform: rotate(90deg);
					}
				}

				&.ui-resizable-e {
					transform: translateY(-50%) translateX(100%);
					right: 0;
				}

				&.ui-resizable-w {
					transform: translateY(-50%) translateX(-100%);
					left: 0;
				}

				&:after {
					display: inline-block;
					font-family: "fusion-builder-icons";
					font-size: inherit;
					text-rendering: auto;
					-webkit-font-smoothing: antialiased;
					-moz-osx-font-smoothing: grayscale;
					content: "\e938";
					color: #fff;
				}

				&:hover {
					background: #198fd9;
				}
			}

			&.fusion-container-margin-bottom,
			&.fusion-container-margin-top {
				z-index: 12;
				left: 0;
				right: 0;
				background: rgba(136, 38, 205, 0.15);
				pointer-events: auto;
				visibility: visible;

				&.active,
				&:hover {
					background: rgba(136, 38, 205, 0.4);
				}

				.ui-resizable-handle {
					background: #8826cd;

					&:hover {
						background: #8826cd;
					}
				}

				&:hover {
					opacity: 1;
					pointer-events: auto;
					visibility: visible;
				}

				.fusion-spacing-tooltip {
					top: auto;
					bottom: 0;
				}
			}

			&.fusion-container-margin-top {
				bottom: 100% !important;
				top: auto !important;

				.ui-resizable-s {
					border-bottom-left-radius: 2px;
					border-bottom-right-radius: 2px;
				}

				.fusion-spacing-tooltip {
					transform: translate(-50%, -100%);
				}

				&.fusion-overlap {
					.ui-resizable-s {
						transform: ~"translate(calc(0% + 2px), 100%)";
					}

					.fusion-spacing-tooltip {
						transform: ~"translate(calc(0% + 2px), -100%)";
					}
				}
			}

			&.fusion-container-margin-bottom {
				top: 100% !important;
				bottom: auto !important;

				.ui-resizable-s {
					transform: translate(-50%, 0);
					border-top-left-radius: 2px;
					border-top-right-radius: 2px;
				}

				.fusion-spacing-tooltip {
					transform: translate(-50%, 200%);
				}

				&.fusion-overlap {
					.ui-resizable-s {
						transform: ~"translate(calc(0% + 2px), 0)";
					}

					.fusion-spacing-tooltip {
						transform: ~"translate(calc(0% + 2px), 200%)";
					}
				}
			}

			&.fusion-container-padding-top {
				top: 0 !important;
				left: 0;
				right: 0;

				.fusion-spacing-tooltip {
					top: auto;
					bottom: -19px;
					transform: translate(-50%, 200%);
				}

				.ui-resizable-s {
					border-bottom-left-radius: 2px;
					border-bottom-right-radius: 2px;
				}

				&.fusion-overlap {
					.ui-resizable-s {
						transform: ~"translate(calc(-100% - 2px), 100%)";
					}

					.fusion-spacing-tooltip {
						transform: ~"translate(calc(-100% - 2px), 200%)";
					}
				}
			}

			&.fusion-container-padding-right {
				top: 0 !important;
				bottom: 0 !important;
				right: 0 !important;
				left: auto !important;

				.fusion-spacing-tooltip {
					top: 50%;
					transform: translate(-100%, -50%);
					left: -30px;
					right: auto;
				}

				.ui-resizable-w {
					border-top-left-radius: 2px;
					border-bottom-left-radius: 2px;
				}
			}

			&.fusion-container-padding-bottom {
				top: auto !important;
				bottom: 0 !important;
				left: 0;
				right: 0;

				.ui-resizable-s {
					transform: translate(-50%, 0);
					border-top-left-radius: 2px;
					border-top-right-radius: 2px;
				}

				.fusion-spacing-tooltip {
					top: auto;
					bottom: 19px;
					transform: translate(-50%, -100%);
				}

				&.fusion-overlap {
					.ui-resizable-s {
						transform: ~"translate(calc(-100% - 2px), 0)";
					}

					.fusion-spacing-tooltip {
						top: auto;
						bottom: 19px;
						transform: ~"translate(calc(-100% - 2px), -100%)";
					}
				}
			}

			&.fusion-container-padding-left {
				top: 0 !important;
				bottom: 0 !important;
				left: 0;

				.fusion-spacing-tooltip {
					top: 50%;
					transform: translate(100%, -50%);
					right: -30px;
					left: auto;
				}

				.ui-resizable-e {
					border-top-right-radius: 2px;
					border-bottom-right-radius: 2px;
				}
			}

			&.active,
			&:hover {
				background: rgba(25, 143, 217, 0.4);
			}
		}

		&:hover {
			position: relative;

			.fusion-builder-module-controls-container-wrapper {
				position: absolute;
				top: 0;
				right: 0;
				bottom: 0;
				left: 0;
				height: 100%;

				.fusion-builder-module-controls-container {
					display: flex;
					position: sticky;
					top: 15px;
					right: 15px;
					float: right;
					margin: 15px 15px 0 0;
					padding: 0;
					background: transparent;
					box-shadow: none;

					.nested-ui-active& {
						display: none;
					}

					.fusion-builder-module-controls {
						display: flex;
					}

					a {

						&.fusion-builder-container-add,
						&.fusion-builder-container-settings {
							display: block;
							opacity: 1;
							width: 33px;
						}

						&.fusion-builder-container-settings {
							background-color: #2a3035;
						}
					}

					.fusion-builder-controls {
						background: #198fd9;
						border-radius: 4px;
						box-shadow: 0 4px 12px rgba(0, 0, 0, 0.18);
						float: left;
					}

					.fusion-builder-container-scheduled,
					.fusion-builder-container-draft,
					.fusion-builder-container-global {
						background: #198fd9;
						border-radius: 4px;
						margin: 0 0 0 6px;
						width: 33px;
						height: 33px;
						opacity: 1;
						color: #fff;
						transition: unset;
					}

					.fusion-builder-container-draft {
						background: #93999f;
					}

					.fusion-builder-container-global {
						background: #fe4774;
					}
				}

				.fusion-builder-module-controls-type-container {
					.fusion-builder-controls {
						&:hover {
							.fusion-builder-container-settings {
								background: #198fd9;
							}
						}
					}
				}
			}

			.bg-parallax-parent {
				.fusion-builder-module-controls-container-wrapper {
					.fusion-builder-module-controls-container {
						position: absolute;
						top: 15px !important;
						left: auto;
					}
				}

			}

			.fusion-fullwidth {
				&.fusion-scrolling-section-edit:after {
					box-shadow: inset 0 0 0 2px rgba(250, 115, 46, 1);
				}
			}
		}

		&:not(.fusion-builder-absolute-container-wrapper):hover {

			&:after {
				box-shadow: 0 0 0 3px rgba(25, 143, 217, 0.4);
				border-radius: 4px;
				position: absolute;
				top: 0;
				bottom: 0;
				left: 0;
				right: 0;
				pointer-events: none;
				content: "";
				z-index: 9;
			}
		}

		&.fusion-builder-absolute-container-wrapper:hover {

			& > .fusion-fullwidth:after {
				box-shadow: 0 0 0 3px rgba(25, 143, 217, 0.4);
				border-radius: 4px;
				position: absolute;
				top: 0;
				bottom: 0;
				left: 0;
				right: 0;
				pointer-events: none;
				content: "";
				z-index: 9;
			}
		}

		&.fusion-has-filters {
			.fusion-fullwidth {
				z-index: 20;
			}

			.fusion-container-spacing {
				z-index: 21;

				.fusion-container-margin-top,
				.fusion-container-margin-bottom {
					z-index: 22;
				}
			}
		}

		.fusion-flex-container {
			.fusion-builder-row-content,
			.fusion-builder-column-content {
				width: 100%;
			}
			.fusion_builder_row,
			.fusion_builder_row_inner,
			.fusion-builder-container-content {
				display: flex;
				width: 100%;
				justify-content: center;
			}
		}

		&.fusion-global-container {
			.fusion-fullwidth,
			.fusion-column-wrapper {
				&:after {
					box-shadow: 0 0 0 3px rgba(254, 71, 116, 0.4) !important;
				}

			}

			.fusion-builder-module-controls-container-wrapper {
				.fusion-builder-module-controls-type-container {
					.fusion-builder-controls {
						background: #fe4774;
						box-shadow: 0 4px 12px rgba(0, 0, 0, 0.18);
						border-radius: 4px;
						&:hover {
							.fusion-builder-container-settings {
								background: #fe4774 !important;
							}
						}
					}
				}

				.fusion-builder-module-controls-container {
					&.fusion-builder-module-controls-type-container {
						background: transparent !important;
						box-shadow: none !important;
						.fusion-builder-container-global {
							margin-left: 6px;
							width: 33px;
							opacity: 1;
							background: #fe4774;
							box-shadow: 0 4px 12px rgba(0, 0, 0, 0.18);
							border-radius: 4px;
						}
					}
				}
			}

			.fusion-builder-row-container {

				.fusion-builder-column,
				.fusion-builder-live-element {
					.fusion-builder-column-controls-inner,
					.fusion-builder-module-controls-inner {
						background: #fe4774;
					}
				}
			}

			.fusion-builder-empty-container {
				.fusion-builder-module-controls-container {
					background: #fe4774;
				}
			}
			&:after {
				box-shadow: 0 0 0 3px rgba(254, 71, 116, 0.4) !important;
			}
			.fusion-builder-empty-column {
				.fusion-builder-module-controls-container {
					background: #fe4774;
				}
			}
		}
	}

	.fullwidth-box {
		&:hover {
			visibility: visible;
		}
	}

	#main {
		position: relative;
	}

	&.fusion-element-post-type-mega_menus {
		#main {
			padding-right: 0 !important;
			padding-left: 0 !important;
			.fusion-row {
				max-width: 100vw !important;
			}
		}
		.awb-mega-menu-content {
			margin: 0 auto;
			max-width: 100vw;

			.fullwidth-box {
				.fusion-row {
					max-width: 100vw !important;
				}
			}
		}
	}

	&.fusion-sticky-header {
		&:not(.fusion-builder-preview-mode) {
			.fusion-builder-container {
				&.fusion-column-sizer-active {
					z-index: auto;
				}
			}
		}
	}

	&.fusion-builder-no-ui {
		.fusion-builder-module-controls-type-container {
			.fusion-builder-module-controls {
				display: none !important;
			}
		}
	}

	&.fusion-hide-all-tooltips {

		.fusion-builder-module-controls-type-container,
		.fusion-builder-module-controls,
		.fusion-builder-column-controls,
		.fusion-builder-empty-column,
		.fusion-special-item {

			.fusion-builder-controls,
			.fusion-builder-module-controls-inner,
			.fusion-builder-column-controls-inner,
			.fusion-builder-module-controls-container,
			.fusion-special-item-controls {
				a {

					.fusion-container-tooltip,
					.fusion-element-tooltip,
					.fusion-column-tooltip {
						display: none;
					}
				}
			}

			a {

				&.fusion-builder-container-global,
				&.fusion-builder-container-draft,
				&.fusion-builder-container-scheduled,
				&.fusion-builder-column-global,
				&.fusion-builder-element-global {

					.fusion-container-tooltip,
					.fusion-element-tooltip,
					.fusion-column-tooltip {
						display: none;
					}
				}
			}
		}

	}

	.width-100 {
		.fusion-builder-container {
			&:hover {
				.fusion-builder-module-controls-container-wrapper {
					margin-right: 0 !important;
				}
			}
		}
	}

	.fusion-tb-footer.fusion-footer,
	.fusion-tb-page-title-bar.fusion-page-title-bar {
		.fusion-builder-container {
			cursor: auto;
		}
	}
}

.fusion-builder-tooltip {
	transform: translateX(-50%);
}

.fusion-special-item.fusion-builder-navigator-outlined {
	position: relative;

	&:after {
		.awb-builder-nav--outline-after-mixin();
	}
}

.fusion-builder-module-controls-container,
.fusion-special-item {

	&.fusion-builder-module-controls-type-container,
	.fusion-builder-module-controls,
	& + .fusion-builder-editing-icons,
	.fusion-special-item-controls {
		a {
			position: relative;
			overflow: visible;

			.fusion-container-tooltip,
			.fusion-column-tooltip,
			.fusion-element-tooltip {
				position: absolute;
				left: 50%;
				transform: translateX(-50%);
				margin: 0;
				z-index: 200;
				visibility: hidden;
				opacity: 0;
				transition: all 0.2s ease 0.2s;
				bottom: 100%;

				.fusion-tooltip-text {
					display: inline-block;
					background: #1d2226;
					color: #fff;
					border: 1px solid #1d2226;
					padding: 10px;
					font-size: 11px;
					font-family: "Noto Sans", Roboto, "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", "Oxygen-Sans", "Ubuntu", "Cantarell", "Helvetica Neue", sans-serif;
					font-weight: 600;
					line-height: normal;
					text-transform: uppercase;
					letter-spacing: 0.05em;
					border-radius: 4px;
					white-space: nowrap;
				}

				&:before {
					content: "";
					border: 5px solid transparent;
					border-top-color: #1d2226;
					position: absolute;
					bottom: -10px;
					left: 50%;
					transform: translateX(-50%);
					z-index: 2;
				}

				&.fusion-tooltip-bottom {
					top: 100%;
					bottom: auto;

					&:before {
						top: -10px;
						bottom: auto;
						border-top-color: transparent;
						border-bottom-color: #1d2226;
					}
				}
			}

			span {
				display: block;
				line-height: 33px;

				&:hover ~ .fusion-container-tooltip,
				&:hover ~ .fusion-column-tooltip,
				&:hover ~ .fusion-element-tooltip {
					opacity: 1;
					visibility: visible;
					transition: all 0.2s ease 0.2s;
					margin-bottom: 10px;

					&.fusion-tooltip-bottom {
						margin-top: 10px;
						margin-bottom: 0;
					}
				}
			}
		}
	}
}

&.fusion-tb-header {
	.fusion-builder-module-controls-container,
	.fusion-special-item {

		&.fusion-builder-module-controls-type-container,
		.fusion-builder-module-controls,
		& + .fusion-builder-editing-icons,
		.fusion-special-item-controls {
			a {

				.fusion-container-tooltip,
				.fusion-column-tooltip,
				.fusion-element-tooltip {
					top: 100%;
					bottom: auto;

					&:before {
						top: -10px;
						bottom: auto;
						border-top-color: transparent;
						border-bottom-color: #1d2226;
					}
				}

				span {

					&:hover ~ .fusion-container-tooltip,
					&:hover ~ .fusion-column-tooltip,
					&:hover ~ .fusion-element-tooltip {
						margin-top: 10px;
						margin-bottom: 0;
					}
				}
			}
		}
	}

	.fusion-builder-live & {

		.fusion-builder-container {

			&:hover {

				&:after {
					z-index: 0;
				}
			}
		}
	}

}
